# POElink插件WXT框架重构计划

## 项目概述
POElink是一个面向内网AMR场景的智能诊断助手浏览器插件，主要功能包括：
- 悬浮窗聊天界面
- 配置向导（服务器、数据库、运管系统）
- 历史对话管理
- Cookie同步和健康检查
- 与后端服务的API交互

## 重构计划

### 1. 项目初始化与依赖配置
- 保持现有的WXT + React项目结构
- 安装TailwindCSS作为UI框架
- 配置项目基础设置

### 2. 核心文件重构

#### 2.1 后台脚本 (background.ts)
- 重构为WXT的background entrypoint
- 实现消息监听和处理逻辑
- 保持Cookie同步、健康检查等核心功能

#### 2.2 内容脚本 (content.ts)
- 重构为WXT的content script
- 实现悬浮窗的显示/隐藏逻辑
- 保持与后台和悬浮窗的通信

#### 2.3 悬浮窗界面
- 重构为React组件
- 使用TailwindCSS实现UI
- 保持原有的布局和功能

#### 2.4 配置向导
- 重构为React组件
- 实现多步骤配置流程
- 保持配置验证功能

### 3. 功能模块重构

#### 3.1 聊天模块
- 实现消息发送和接收
- 支持历史对话管理
- 保持与后端的API交互

#### 3.2 配置模块
- 实现配置的存储和读取
- 支持配置验证和测试连接
- 保持配置向导的流程

#### 3.3 存储模块
- 使用WXT的存储API
- 实现配置和历史记录的存储

#### 3.4 通信模块
- 使用WXT的消息传递机制
- 实现后台、内容脚本和悬浮窗之间的通信

### 4. UI/UX重构
- 使用TailwindCSS替代Bootstrap
- 保持原有的UI布局和功能
- 优化响应式设计
- 提升用户体验

### 5. 测试与调试
- 测试所有功能是否正常工作
- 调试任何出现的问题
- 确保与后端服务的交互正常

## 预期结果
- 功能完整的POElink插件，基于WXT框架开发
- 保持原有的所有功能
- 提升代码质量和可维护性
- 优化UI/UX体验